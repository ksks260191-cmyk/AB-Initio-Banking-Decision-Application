# AB Initio Banking Platform - Environment Configuration
# Environment: Production

# ============================================================================
# SYSTEM IDENTIFICATION
# ============================================================================
environment.name=production
environment.region=us-west-2
deployment.version=2.1.0
deployment.date=2025-11-13

# ============================================================================
# AB INITIO CONFIGURATION
# ============================================================================

# Co>Operating System
abinitio.cos.host=abcluster01.bank.local
abinitio.cos.port=9000
abinitio.cos.max_cores=120
abinitio.cos.max_memory=512GB
abinitio.cos.parallel_degree=40

# Enterprise Meta>Environment (EME)
abinitio.eme.host=abeme01.bank.local
abinitio.eme.port=9001
abinitio.eme.sandbox=prod_banking_decisioning
abinitio.eme.repository=/repository/banking

# Graphical Development Environment (GDE)
abinitio.gde.install_path=/opt/abinitio/gde
abinitio.gde.version=4.3.2

# ============================================================================
# DATA SOURCE CONNECTIONS
# ============================================================================

# Customer Master Database (CRM)
db.crm.type=PostgreSQL
db.crm.host=crmdb01.bank.local
db.crm.port=5432
db.crm.database=customer_master
db.crm.username=ab_readonly
db.crm.password=${VAULT:crm_db_password}
db.crm.pool_size=50
db.crm.timeout_seconds=30

# Checking Account System
db.checking.type=Oracle
db.checking.host=checkingdb01.bank.local
db.checking.port=1521
db.checking.service_name=CHECKING_PROD
db.checking.username=ab_readonly
db.checking.password=${VAULT:checking_db_password}
db.checking.pool_size=50

# Savings Account System
db.savings.type=Oracle
db.savings.host=savingsdb01.bank.local
db.savings.port=1521
db.savings.service_name=SAVINGS_PROD
db.savings.username=ab_readonly
db.savings.password=${VAULT:savings_db_password}

# Credit Card Platform
db.creditcard.type=DB2
db.creditcard.host=ccdb01.bank.local
db.creditcard.port=50000
db.creditcard.database=CREDITCARD
db.creditcard.username=ab_readonly
db.creditcard.password=${VAULT:cc_db_password}

# Loan Origination System
db.loans.type=SQL_Server
db.loans.host=loandb01.bank.local
db.loans.port=1433
db.loans.database=LoanOrigination
db.loans.username=ab_readonly
db.loans.password=${VAULT:loans_db_password}

# Investment Management System
db.investment.type=PostgreSQL
db.investment.host=investdb01.bank.local
db.investment.port=5432
db.investment.database=wealth_management
db.investment.username=ab_readonly
db.investment.password=${VAULT:investment_db_password}

# ============================================================================
# TARGET DATA STORES
# ============================================================================

# Customer Profile Store (360Â° View)
db.profile_store.type=PostgreSQL
db.profile_store.host=profiledb01.bank.local,profiledb02.bank.local
db.profile_store.port=5432
db.profile_store.database=customer_profile_360
db.profile_store.username=ab_writer
db.profile_store.password=${VAULT:profile_db_password}
db.profile_store.pool_size=100
db.profile_store.replication=sync

# Decision Archive (S3)
storage.decision_archive.type=S3
storage.decision_archive.bucket=bank-decision-archive-prod
storage.decision_archive.region=us-west-2
storage.decision_archive.prefix=/decisions/year={yyyy}/month={mm}/day={dd}/
storage.decision_archive.retention_days=2555  # 7 years for compliance

# ============================================================================
# REAL-TIME DATA LAYER
# ============================================================================

# Redis Cluster (Feature Store - HOT Data)
redis.cluster.mode=cluster
redis.cluster.nodes=redis01:6379,redis02:6379,redis03:6379,redis04:6379,redis05:6379,redis06:6379
redis.cluster.password=${VAULT:redis_password}
redis.cluster.max_connections=500
redis.cluster.timeout_ms=10
redis.cluster.retry_attempts=3
redis.cluster.ssl_enabled=true

# Redis Sentinel (High Availability)
redis.sentinel.master_name=banking-feature-store
redis.sentinel.nodes=sentinel01:26379,sentinel02:26379,sentinel03:26379
redis.failover.timeout_ms=5000

# Cache Configuration
cache.ttl.customer_profile=300  # 5 minutes
cache.ttl.account_snapshot=60   # 1 minute
cache.ttl.device_info=600       # 10 minutes
cache.ttl.merchant_risk=3600    # 1 hour

# ============================================================================
# MESSAGE QUEUES
# ============================================================================

# Kafka Cluster
kafka.bootstrap.servers=kafka01:9092,kafka02:9092,kafka03:9092,kafka04:9092,kafka05:9092
kafka.security.protocol=SASL_SSL
kafka.sasl.mechanism=PLAIN
kafka.sasl.username=ab_producer
kafka.sasl.password=${VAULT:kafka_password}
kafka.ssl.truststore.location=/etc/kafka/truststore.jks
kafka.ssl.truststore.password=${VAULT:kafka_truststore_password}

# Kafka Topics
kafka.topic.mobile_events=mobile-banking-events
kafka.topic.online_events=online-banking-events
kafka.topic.pos_transactions=pos-transactions
kafka.topic.call_center_events=call-center-events
kafka.topic.fraud_detection_queue=fraud-detection-queue
kafka.topic.cross_sell_queue=cross-sell-queue
kafka.topic.service_routing_queue=service-routing-queue
kafka.topic.transaction_decisions=transaction-decisions
kafka.topic.customer_notifications=customer-notifications
kafka.topic.decision_archive=decision-archive-stream

# Kafka Producer Configuration
kafka.producer.acks=all
kafka.producer.retries=3
kafka.producer.batch.size=16384
kafka.producer.linger.ms=10
kafka.producer.compression.type=snappy
kafka.producer.max.in.flight.requests=5

# Kafka Consumer Configuration
kafka.consumer.group.id.prefix=banking-decisioning
kafka.consumer.auto.offset.reset=earliest
kafka.consumer.enable.auto.commit=false
kafka.consumer.max.poll.records=100
kafka.consumer.max.poll.interval.ms=300000
kafka.consumer.session.timeout.ms=30000

# IBM MQ (Legacy Systems)
mq.atm.host=mqatm01.bank.local
mq.atm.port=1414
mq.atm.queue_manager=QMATM
mq.atm.channel=SYSTEM.DEF.SVRCONN
mq.atm.queue.transactions=ATM.TRANSACTIONS
mq.core_banking.host=mqcore01.bank.local
mq.core_banking.port=1414
mq.core_banking.queue_manager=QMCORE
mq.core_banking.queue.events=CORE.BANKING.EVENTS

# ============================================================================
# MACHINE LEARNING MODELS
# ============================================================================

# Fraud Detection Model
ml.fraud_detection.model_path=/models/fraud/xgboost_v2.3.model
ml.fraud_detection.version=2.3
ml.fraud_detection.type=xgboost
ml.fraud_detection.features=85
ml.fraud_detection.threshold.block=0.85
ml.fraud_detection.threshold.review=0.70
ml.fraud_detection.threshold.stepup=0.40
ml.fraud_detection.update_frequency=weekly

# Cross-Sell Model
ml.cross_sell.model_path=/models/crosssell/product_affinity_v1.8.model
ml.cross_sell.version=1.8
ml.cross_sell.type=neural_network
ml.cross_sell.features=65

# Credit Scoring Model
ml.credit_scoring.model_path=/models/credit/fico_scorer_v3.1.model
ml.credit_scoring.version=3.1
ml.credit_scoring.type=logistic_regression

# Model Serving
ml.serving.host=mlserve01.bank.local,mlserve02.bank.local
ml.serving.port=8080
ml.serving.timeout_ms=30
ml.serving.batch_size=32

# ============================================================================
# EXTERNAL SERVICES
# ============================================================================

# GeoIP Service (MaxMind)
geoip.database_path=/data/geoip/GeoLite2-City.mmdb
geoip.update_schedule=weekly

# Credit Bureau APIs
creditbureau.experian.url=https://api.experian.com/v1
creditbureau.experian.api_key=${VAULT:experian_api_key}
creditbureau.experian.timeout_ms=2000

creditbureau.equifax.url=https://api.equifax.com/v2
creditbureau.equifax.api_key=${VAULT:equifax_api_key}

creditbureau.transunion.url=https://api.transunion.com/v1
creditbureau.transunion.api_key=${VAULT:transunion_api_key}

# SMS Gateway
sms.gateway.provider=Twilio
sms.gateway.url=https://api.twilio.com/2010-04-01
sms.gateway.account_sid=${VAULT:twilio_account_sid}
sms.gateway.auth_token=${VAULT:twilio_auth_token}
sms.gateway.from_number=+12065550100
sms.gateway.timeout_ms=5000

# Email Service
email.provider=SendGrid
email.api_key=${VAULT:sendgrid_api_key}
email.from_address=alerts@bank.example.com
email.from_name=Bank Alert System

# Push Notification Service
push.provider=Firebase
push.api_key=${VAULT:firebase_api_key}
push.project_id=bank-mobile-app-prod

# ============================================================================
# MONITORING & OBSERVABILITY
# ============================================================================

# Prometheus Metrics
metrics.prometheus.enabled=true
metrics.prometheus.port=9090
metrics.prometheus.path=/metrics
metrics.prometheus.scrape_interval=15s

# Grafana Dashboards
grafana.url=https://grafana.bank.local
grafana.api_key=${VAULT:grafana_api_key}

# Application Performance Monitoring (APM)
apm.provider=Datadog
apm.api_key=${VAULT:datadog_api_key}
apm.trace_sample_rate=0.1  # 10% sampling
apm.log_level=INFO

# Log Aggregation
logging.provider=Splunk
logging.hec_url=https://splunk.bank.local:8088
logging.hec_token=${VAULT:splunk_hec_token}
logging.index=banking_decisioning
logging.level=INFO

# Alerting
alerts.pagerduty.enabled=true
alerts.pagerduty.api_key=${VAULT:pagerduty_api_key}
alerts.pagerduty.service_key=${VAULT:pagerduty_service_key}

alerts.email.enabled=true
alerts.email.recipients=ops-team@bank.example.com,data-eng@bank.example.com

# ============================================================================
# PERFORMANCE & SCALABILITY
# ============================================================================

# Throughput Targets
performance.target.events_per_second=5000
performance.target.peak_events_per_second=15000
performance.target.decisions_per_second=5000

# Latency Targets (milliseconds)
performance.target.latency_p50=30
performance.target.latency_p95=50
performance.target.latency_p99=100
performance.target.latency_max=200

# Resource Allocation
resources.cpu.limit=120_cores
resources.memory.limit=512GB
resources.disk.temp=/data/temp
resources.disk.temp_size=500GB

# Auto-Scaling
autoscale.enabled=true
autoscale.min_instances=10
autoscale.max_instances=40
autoscale.target_cpu_percent=70
autoscale.target_latency_ms=50
autoscale.scale_up_threshold.events_per_sec=8000
autoscale.scale_down_threshold.events_per_sec=2000

# ============================================================================
# SECURITY & COMPLIANCE
# ============================================================================

# Encryption
security.encryption.at_rest=AES-256
security.encryption.in_transit=TLS-1.3
security.encryption.key_rotation_days=90

# Data Masking
security.masking.ssn=true
security.masking.account_numbers=true
security.masking.credit_card=true
security.masking.algorithm=tokenization

# Audit Logging
audit.enabled=true
audit.log_all_decisions=true
audit.log_customer_access=true
audit.retention_days=2555  # 7 years

# Compliance
compliance.pci_dss=true
compliance.gdpr=true
compliance.sox=true
compliance.data_residency=US

# ============================================================================
# HIGH AVAILABILITY & DISASTER RECOVERY
# ============================================================================

# Multi-Region Configuration
ha.primary_region=us-west-2
ha.secondary_region=us-east-1
ha.replication_mode=active-active
ha.failover_automatic=true
ha.failover_timeout_seconds=30

# Backup Configuration
backup.frequency=hourly
backup.retention_days=30
backup.full_backup_schedule=0 2 * * 0  # Weekly at 2 AM Sunday
backup.incremental_schedule=0 * * * *   # Hourly
backup.location=s3://bank-backups-prod/

# Recovery Objectives
recovery.rpo=0  # Zero data loss
recovery.rto=300  # 5 minutes

# ============================================================================
# BATCH PROCESSING SCHEDULES
# ============================================================================

# Customer Profile Builder (Hourly)
schedule.profile_builder.cron=0 * * * *
schedule.profile_builder.duration_target_minutes=15

# Model Retraining (Weekly)
schedule.model_training.cron=0 2 * * 0
schedule.model_training.duration_hours=4

# Report Generation (Daily)
schedule.reports.cron=0 6 * * *

# Data Quality Checks (Every 6 hours)
schedule.data_quality.cron=0 */6 * * *

# ============================================================================
# FEATURE FLAGS
# ============================================================================

feature.fraud_detection.enabled=true
feature.cross_sell.enabled=true
feature.credit_decisioning.enabled=true
feature.customer_service_routing.enabled=true
feature.step_up_authentication.enabled=true
feature.ab_testing.enabled=true
feature.new_ml_model_shadow_mode=false

# ============================================================================
# ENVIRONMENT-SPECIFIC OVERRIDES
# ============================================================================

# These can be overridden for dev/test/staging environments
# In production, these should remain as configured above
